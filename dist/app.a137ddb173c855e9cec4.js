!function(t){function e(e){for(var n,s,a=e[0],c=e[1],u=e[2],h=0,_=[];h<a.length;h++)s=a[h],i[s]&&_.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);_.length;)_.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,a=1;a<o.length;a++){var c=o[a];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={0:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([18,1]),o()}([,,,,,,function(t,e,o){t.exports={button:"_6739",counter:"a92a"}},,,,function(t,e,o){t.exports={linkNav:"de90",titleSommaire:"da17",selected:"_876e"}},function(t,e,o){t.exports={loader:"_5aea","loader-hidden":"_8fcc",loaderHidden:"_8fcc","lds-dual-ring":"_64ed",ldsDualRing:"_64ed"}},function(t){t.exports={b:"0.0.0-dev",a:"git@github.com:flexiooss/hotballoon-machine-operating-manual.git"}},,,function(t,e,o){t.exports=o.p+"c469b8e91cdd55b45223719611839d28.svg"},function(t,e,o){t.exports=function(){return new Worker(o.p+"compute.worker.8508bb859acd4962bf6a.js")}},,function(t,e,o){t.exports=o(21)},,function(t,e,o){},function(t,e,o){"use strict";o.r(e);var n=o(1),i=o(8),r=o(2),s=o(3),a=o(0);class c{constructor(t){this._message=t,Object(s.a)(this)}message(){return this._message}withMessage(t){var e=u.from(this);return e.message(t),e.build()}toObject(){var t={};return null!==this._message&&(t.message=this._message),t}toJSON(){return this.toObject()}}class u{constructor(){this._message=null}message(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"message should be a string"),this._message=t,this}build(){return new c(this._message)}static fromObject(t){var e=new u;return void 0!==t.message&&null!==t.message&&e.message(t.message),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new u;return e.message(t.message()),e}}Object(s.b)(r.a,"io.flexio.component_main.actions.ActionInitialize",c),Object(s.b)(r.a,"io.flexio.component_main.actions.ActionInitializeBuilder",u);class l{constructor(t){this._url=t,Object(s.a)(this)}url(){return this._url}withUrl(t){var e=h.from(this);return e.url(t),e.build()}toObject(){var t={};return null!==this._url&&(t.url=this._url.toObject()),t}toJSON(){return this.toObject()}}class h{constructor(){this._url=null}url(t){return Object(a.i)(t)||Object(a.a)(t instanceof r.a.io.flexio.component_router.types.URLExtended,"url should be a URLExtended"),this._url=t,this}build(){return new l(this._url)}static fromObject(t){var e=new h;return void 0!==t.url&&null!==t.url&&e.url(r.a.io.flexio.component_router.types.URLExtendedBuilder.fromObject(t.url).build()),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new h;return e.url(t.url()),e}}Object(s.b)(r.a,"io.flexio.component_router.actions.ActionChangeRoute",l),Object(s.b)(r.a,"io.flexio.component_router.actions.ActionChangeRouteBuilder",h);var _=o(5);Object(s.b)(r.a,"io.flexio.component_router.types.URLExtended",_.d);var b=o(17),p=o(9),d=o(14),m=o(7);class O{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionChangeRouteMaker:constructor: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_router.actions.ActionChangeRoute,t=>t,t=>!Object(a.i)(t.url)),t));return new O(e)}listen(t){return Object(a.b)(!Object(a.i)(this.__action),"ActionChangeRouteMaker:listen: action should be initialize before using it"),this.__action.listenWithCallback(e=>{var o=t.urlHandler.urlToPathname(e.url()),n=t.routeByPathname(o);n.route.callback(n.route.builder(n.params))}),this}action(){return this.__action}}class v{constructor(t){Object(a.a)(n.p.isComponentContext(t),"BootstrapComponent:constructor: `componentContext` argument should be ComponentContext, %s given",typeof t),this.__componentContext=t,this.__router=b.a.build(new p.a("https","localhost","8080")),this.__routeHandler=new d.a(this.__router,m.a),this.__actionChangeRoute=O.create(this.__componentContext.dispatcher()),this.__actionChangeRoute.listen(this.__router)}routeHandler(){return this.__routeHandler}actionChangeRoute(){return this.__actionChangeRoute.action()}}var w=Symbol("__componentRouterPublic");class f{constructor(t){Object(a.b)(t instanceof v,"ComponentCounterPublic:constructor: `component` should be a ComponentBootstrap"),this[w]=t}routeHandler(){return this[w].routeHandler()}routerActionDispatcher(){return new j(this[w].actionChangeRoute(),r.a.io.flexio.component_router.actions.ActionChangeRoute)}}class j{constructor(t,e){this.__action=t,this.__actionObject=e}changeRoute(t){this.__action.dispatch(new this.__actionObject(t))}}class x{static build(t){return Object(a.a)(n.p.isHotballoonApplication(t),"ComponentRouterBuilder:constructor: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof t),new f(new v(t.addComponentContext()))}}class C{constructor(t,e){this._ticket=t,this._active=e,Object(s.a)(this)}ticket(){return this._ticket}active(){return this._active}withTicket(t){var e=g.from(this);return e.ticket(t),e.build()}withActive(t){var e=g.from(this);return e.active(t),e.build()}toObject(){var t={};return null!==this._ticket&&(t.ticket=this._ticket),null!==this._active&&(t.active=this._active),t}toJSON(){return this.toObject()}}class g{constructor(){this._ticket=null,this._active=null}ticket(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"ticket should be a string"),this._ticket=t,this}active(t){return Object(a.i)(t)||Object(a.a)(Object(a.d)(t),"active should be a bool"),this._active=t,this}build(){return new C(this._ticket,this._active)}static fromObject(t){var e=new g;return void 0!==t.ticket&&null!==t.ticket&&e.ticket(t.ticket),void 0!==t.active&&null!==t.active&&e.active(t.active),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new g;return e.ticket(t.ticket()),e.active(t.active()),e}}Object(s.b)(r.a,"io.flexio.component_transaction_store.actions.ActionTransaction",C),Object(s.b)(r.a,"io.flexio.component_transaction_store.actions.ActionTransactionBuilder",g);var S=o(4);class A{constructor(t){this._registered=t,Object(s.a)(this)}registered(){return this._registered}withRegistered(t){var e=N.from(this);return e.registered(t),e.build()}toObject(){var t={};return null!==this._registered&&(t.registered=this._registered.mapToArray(t=>t)),t}toJSON(){return this.toObject()}}class N{constructor(){this._registered=null}registered(t){return Object(a.i)(t)||Object(a.a)(t instanceof r.a.io.flexio.component_transaction_store.stores.storetransaction.StoreTransactionRegisteredList,"registered should be a StoreTransactionRegisteredList"),this._registered=t,this}build(){return new A(this._registered)}static fromObject(t){var e=new N;return void 0!==t.registered&&null!==t.registered&&e.registered(new r.a.io.flexio.component_transaction_store.stores.storetransaction.StoreTransactionRegisteredList(...t.registered.map(t=>t))),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new N;return e.registered(t.registered()),e}}class k extends S.a{constructor(){super(...arguments)}get(t){return this[t]}_validate(t){Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"element should be a string")}}Object(s.b)(r.a,"io.flexio.component_transaction_store.stores.storetransaction.StoreTransactionRegisteredList",k),Object(s.b)(r.a,"io.flexio.component_transaction_store.stores.StoreTransaction",A),Object(s.b)(r.a,"io.flexio.component_transaction_store.stores.StoreTransactionBuilder",N);class I{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionTransactionMaker:constructor: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_transaction_store.actions.ActionTransaction,t=>Object(a.i)(t.active())||Object(a.i)(t.ticket())?t.withActive(!1).withTicket("default ticket"):t,t=>!Object(a.i)(t.active())&&!Object(a.i)(t.ticket())),t));return new I(e)}listen(t){return Object(a.b)(n.p.isStore(t),"ActionTransactionMaker:listen: `store` should be a Store"),this.__action.listenWithCallback(e=>{var o=new k(...t.state().data.registered());if(e.active())t.state().data.registered().includes(e.ticket())||(o.push(e.ticket()),t.set(t.state().data.withRegistered(o)));else if(t.state().data.registered().includes(e.ticket())){var n=new k;o.forEach(function(t){t!==e.ticket()&&n.push(t)}),t.set(t.state().data.withRegistered(n))}}),this}action(){return this.__action}}class y{constructor(t,e){this.__store=t,this.__storePublic=e}static create(t){Object(a.b)(n.p.isComponentContext(t),"StoreLogsUtils:constructor: `componentContext` should be a ComponentContext");var e=t.addStore(n.n.InMemory(new n.i(new n.o(r.a.io.flexio.component_transaction_store.stores.StoreTransaction,t=>Object(a.i)(t.registered())?t.withRegistered(new r.a.io.flexio.component_transaction_store.stores.storetransaction.StoreTransactionRegisteredList):t,t=>!Object(a.i)(t.registered()),t=>r.a.io.flexio.component_transaction_store.stores.StoreTransactionBuilder().fromObject(t).build()),(new r.a.io.flexio.component_transaction_store.stores.StoreTransactionBuilder).registered(new r.a.io.flexio.component_transaction_store.stores.storetransaction.StoreTransactionRegisteredList).build()))),o=new n.l(e);return new y(e,o)}store(){return this.__store}storePublic(){return this.__storePublic}}var R=o(11),T=o.n(R);class P extends n.q{constructor(t,e){super(t),this.__stores=e,this.subscribeToStore(this.__stores.transactionStore())}template(){return this.html(Object(n.u)("div").className(this.__stores.transactionStore().data().registered().length?T.a.loader:T.a.loaderHidden))}}class V extends n.r{constructor(t,e){super(t),this.__stores=e,this.__registerViews()}__registerViews(){this.addView(new P(this,this.__stores))}}class D{constructor(t){Object(a.a)(t.isTypeOf(r.a.io.flexio.component_transaction_store.stores.StoreTransaction),"NavbarStoreManager: `transactionStore ` should be a Store of StoreTransaction"),this.__publiStoreTransaction=n.p.assertStoreBase(t)}transactionStore(){return this.__publiStoreTransaction}}class M{constructor(t){Object(a.b)(n.p.isComponentContext(t),"ComponentTransaction:constructor: `componentContext` argument should be ComponentContext"),this.__componentContext=t,this.__actionTransaction=I.create(this.__componentContext.dispatcher()),this.__transactionStore=y.create(this.__componentContext),this.__actionTransaction.listen(this.__transactionStore.store())}mountView(t){return Object(a.b)(!!Object(a.g)(t),"ComponentTransaction:constructor: `parentNode` argument should be NodeType"),this.__viewContainer=new V(new n.s(this.__componentContext,this.__componentContext.nextID(),t),new D(this.__transactionStore.storePublic())),this.__componentContext.addViewContainer(this.__viewContainer),this.__viewContainer.renderAndMount(),this}get componentContext(){return this.__componentContext}get transactionStore(){return this.__transactionStore}get actionTransaction(){return this.__actionTransaction.action()}}var E=Symbol("__componentMainPublic"),B=r.a.io.flexio.component_transaction_store.actions.ActionTransaction;class L{constructor(t){Object(a.b)(t instanceof M,"ComponentCounterPublic:constructor: `component` should be a ComponentBootstrap"),this[E]=t}mountView(t){return this[E].mountView(t),this}transactionActionDispatcher(){return new H(this[E].actionTransaction,B)}}class H{constructor(t,e){this.__action=t,this.__actionObject=e}actionTansaction(t,e){this.__action.dispatch(new this.__actionObject(t,e))}}class J{static build(t,e){return Object(a.a)(n.p.isHotballoonApplication(t),"ComponentMain:constructor: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof t),new L(new M(t.addComponentContext()))}}class z{constructor(t,e){this._url=t,this._name=e,Object(s.a)(this)}url(){return this._url}name(){return this._name}withUrl(t){var e=U.from(this);return e.url(t),e.build()}withName(t){var e=U.from(this);return e.name(t),e.build()}toObject(){var t={};return null!==this._url&&(t.url=this._url.toObject()),null!==this._name&&(t.name=this._name),t}toJSON(){return this.toObject()}}class U{constructor(){this._url=null,this._name=null}url(t){return Object(a.i)(t)||Object(a.a)(t instanceof r.a.io.flexio.component_router.types.URLExtended,"url should be a URLExtended"),this._url=t,this}name(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"name should be a string"),this._name=t,this}build(){return new z(this._url,this._name)}static fromObject(t){var e=new U;return void 0!==t.url&&null!==t.url&&e.url(r.a.io.flexio.component_router.types.URLExtendedBuilder.fromObject(t.url).build()),void 0!==t.name&&null!==t.name&&e.name(t.name),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new U;return e.url(t.url()),e.name(t.name()),e}}class W{constructor(t,e){this._selected=t,this._linkCollection=e,Object(s.a)(this)}selected(){return this._selected}linkCollection(){return this._linkCollection}withSelected(t){var e=q.from(this);return e.selected(t),e.build()}withLinkCollection(t){var e=q.from(this);return e.linkCollection(t),e.build()}toObject(){var t={};return null!==this._selected&&(t.selected=this._selected),null!==this._linkCollection&&(t.linkCollection=this._linkCollection.mapToArray(t=>t.toObject())),t}toJSON(){return this.toObject()}}class q{constructor(){this._selected=null,this._linkCollection=null}selected(t){return Object(a.i)(t)||Object(a.a)(Object(a.j)(t),"selected should be a number"),this._selected=t,this}linkCollection(t){return Object(a.i)(t)||Object(a.a)(t instanceof r.a.io.flexio.component_doc.stores.storenavbar.StoreNavbarLinkCollectionList,"linkCollection should be a StoreNavbarLinkCollectionList"),this._linkCollection=t,this}build(){return new W(this._selected,this._linkCollection)}static fromObject(t){var e=new q;return void 0!==t.selected&&null!==t.selected&&e.selected(parseInt(t.selected)),void 0!==t.linkCollection&&null!==t.linkCollection&&e.linkCollection(new r.a.io.flexio.component_doc.stores.storenavbar.StoreNavbarLinkCollectionList(...t.linkCollection.map(t=>r.a.io.flexio.component_doc.stores.SchemaLinkBuilder.fromObject(t).build()))),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new q;return e.selected(t.selected()),e.linkCollection(t.linkCollection()),e}}Object(s.b)(r.a,"io.flexio.component_doc.stores.storenavbar.StoreNavbarLinkCollectionList",class extends S.a{constructor(){super(...arguments)}get(t){return this[t]}_validate(t){Object(a.i)(t)||Object(a.a)(t instanceof r.a.io.flexio.component_doc.stores.SchemaLink,"element should be a SchemaLink")}}),Object(s.b)(r.a,"io.flexio.component_doc.stores.SchemaLink",z),Object(s.b)(r.a,"io.flexio.component_doc.stores.SchemaLinkBuilder",U),Object(s.b)(r.a,"io.flexio.component_doc.stores.StoreNavbar",W),Object(s.b)(r.a,"io.flexio.component_doc.stores.StoreNavbarBuilder",q);class Y{constructor(t){this._message=t,Object(s.a)(this)}message(){return this._message}withMessage(t){var e=F.from(this);return e.message(t),e.build()}toObject(){var t={};return null!==this._message&&(t.message=this._message),t}toJSON(){return this.toObject()}}class F{constructor(){this._message=null}message(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"message should be a string"),this._message=t,this}build(){return new Y(this._message)}static fromObject(t){var e=new F;return void 0!==t.message&&null!==t.message&&e.message(t.message),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new F;return e.message(t.message()),e}}class G{constructor(t,e){this._component=t,this._option=e,Object(s.a)(this)}component(){return this._component}option(){return this._option}withComponent(t){var e=K.from(this);return e.component(t),e.build()}withOption(t){var e=K.from(this);return e.option(t),e.build()}toObject(){var t={};return null!==this._component&&(t.component=this._component),null!==this._option&&(t.option=this._option),t}toJSON(){return this.toObject()}}class K{constructor(){this._component=null,this._option=null}component(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"component should be a string"),this._component=t,this}option(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"option should be a string"),this._option=t,this}build(){return new G(this._component,this._option)}static fromObject(t){var e=new K;return void 0!==t.component&&null!==t.component&&e.component(t.component),void 0!==t.option&&null!==t.option&&e.option(t.option),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new K;return e.component(t.component()),e.option(t.option()),e}}Object(s.b)(r.a,"io.flexio.component_doc.actions.ActionChangeView",Y),Object(s.b)(r.a,"io.flexio.component_doc.actions.ActionChangeViewBuilder",F),Object(s.b)(r.a,"io.flexio.component_doc.actions.ActionInitializeView",G),Object(s.b)(r.a,"io.flexio.component_doc.actions.ActionInitializeViewBuilder",K),Object(s.b)(r.a,"io.flexio.component_doc.types.URLExtended",_.d);class Q extends n.q{template(){return this.html(Object(n.u)("header#header").childNodes(this.html(Object(n.u)("h1#h1").text("HotBalloon machine operating manual"))))}}var X=o(10),Z=o.n(X),$="CHANGE_COMPONENT_EVENT";class tt extends n.q{constructor(t,e){super(t),this.__stores=e,this.subscribeToStore(this.__stores.navbarStore())}on(){return new et(t=>this._on(t))}template(){return this.html(Object(n.u)("nav#navBar").childNodes(this.html(Object(n.u)("h2#titleSommaire.titleSommaire").className(Z.a.titleSommaire).text("Sommaire")),this.html(Object(n.u)("div#divLinksNav").childNodes(...this.__linkStoreToLinkView()))))}__linkStoreToLinkView(){for(var t=this,e=this.__stores.navbarStore().data().linkCollection().length,o=[],i=function(e){var i=t.__stores.navbarStore().data().linkCollection().get(e);o.push(t.html(Object(n.u)("link#linkNav3").className(Z.a.linkNav).bindClassName(Z.a.selected,t.__stores.navbarStore().data().selected()===e).text(i.name()).listenEvent(n.e.listen("click").callback(e=>{t.dispatch($,{link:i.url()}),t.container().resetDemoDiv()}).build())))},r=0;r<e;r++)i(r);return o}}class et extends n.t{changeView(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen($).callback(e=>{t(e)}).build())}}class ot extends n.q{template(){return this.html(Object(n.u)("main#main").childNodes(this.html(Object(n.u)("h2#subtitle").text("Description")),this.html(Object(n.u)("div#demo").attributes())))}getDemoDiv(){return this.nodeRef("demo")}resetDemoDiv(){this.nodeRef("demo").hasChildNodes()&&this.nodeRef("demo").removeChild(this.nodeRef("demo").firstChild)}}var nt=o(12);o(20);class it extends n.q{template(){return this.html(Object(n.u)("footer#footer").childNodes(this.html(Object(n.u)("div#version").text("HotBalloon-machine-operating-manual [version : "+nt.b+"]")),this.html(Object(n.u)("div#github").text("github : "+nt.a))))}}class rt extends n.r{constructor(t,e,o){super(t),this.__stores=e,this.__routerActionDispatcher=o,this.__viewHeader=this.addView(new Q(this)),this.__viewNavbar=this.addView(new tt(this,this.__stores)),this.__viewMain=this.addView(new ot(this)),this.__viewFooter=this.addView(new it(this)),this.__handleEvents()}__handleEvents(){this.__viewNavbar.on().changeView(t=>{this.__routerActionDispatcher.changeRoute(t.link)})}getDemoNode(){return this.__viewMain.getDemoDiv()}resetDemoDiv(){this.__viewMain.resetDemoDiv()}}class st{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionInitializeViewMaker:constructor: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_doc.actions.ActionInitializeView,t=>t,t=>!Object(a.i)(t.message)),t));return new st(e)}listen(t){return Object(a.b)(n.p.isStore(t),"ActionInitializeViewMaker:listen: `store` should be a Store"),this.__action.listenWithCallback(e=>{var o=-1;"counter"===e.component()?"simple"===e.option()?o=0:"subview"===e.option()&&(o=1):"calculator"===e.component()&&(o=2),t.set(t.state().data.withSelected(o))}),this}action(){return this.__action}}class at{constructor(t){this._sum=t,Object(s.a)(this)}sum(){return this._sum}withSum(t){var e=ct.from(this);return e.sum(t),e.build()}toObject(){var t={};return null!==this._sum&&(t.sum=this._sum),t}toJSON(){return this.toObject()}}class ct{constructor(){this._sum=null}sum(t){return Object(a.i)(t)||Object(a.a)(Object(a.j)(t),"sum should be a number"),this._sum=t,this}build(){return new at(this._sum)}static fromObject(t){var e=new ct;return void 0!==t.sum&&null!==t.sum&&e.sum(parseInt(t.sum)),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new ct;return e.sum(t.sum()),e}}Object(s.b)(r.a,"io.flexio.component_counter.actions.ActionModifyCounter",at),Object(s.b)(r.a,"io.flexio.component_counter.actions.ActionModifyCounterBuilder",ct);class ut{constructor(t){this._count=t,Object(s.a)(this)}count(){return this._count}withCount(t){var e=lt.from(this);return e.count(t),e.build()}toObject(){var t={};return null!==this._count&&(t.count=this._count),t}toJSON(){return this.toObject()}}class lt{constructor(){this._count=null}count(t){return Object(a.i)(t)||Object(a.a)(Object(a.j)(t),"count should be a number"),this._count=t,this}build(){return new ut(this._count)}static fromObject(t){var e=new lt;return void 0!==t.count&&null!==t.count&&e.count(parseInt(t.count)),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new lt;return e.count(t.count()),e}}Object(s.b)(r.a,"io.flexio.component_counter.stores.StoreCounter",ut),Object(s.b)(r.a,"io.flexio.component_counter.stores.StoreCounterBuilder",lt);class ht{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionModifyCounterMaker:init: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_counter.actions.ActionModifyCounter,t=>Object(a.i)(t.sum())?t.withSum(0):t,t=>!Object(a.i)(t.sum())),t));return new ht(e)}listen(t){return Object(a.b)(n.p.isStore(t),"ActionModifyCounterMaker:listen: `store` should be a Store"),Object(a.b)(!Object(a.i)(this.__action),"ActionModifyCounterMaker:listen: action should be initialize before using it"),this.__action.listenWithCallback(e=>{var o=t.state().data.count()+e.sum();t.set(t.state().data.withCount(o<0?0:o))}),this}action(){return this.__action}}class _t{constructor(t,e){this.__store=t,this.__storePublic=e}static create(t){Object(a.b)(n.p.isComponentContext(t),"StoreResultUtils:constructor: `componentContext` should be a ComponentContext");var e=t.addStore(n.n.InMemory(new n.i(new n.o(r.a.io.flexio.component_counter.stores.StoreCounter,t=>Object(a.i)(t.count())?t.withCount(0):t,t=>!Object(a.i)(t.count()),t=>r.a.io.flexio.component_counter.stores.StoreCounterBuilder.fromObject(t).build()),(new r.a.io.flexio.component_counter.stores.StoreCounterBuilder).count(0).build()))),o=new n.l(e);return new _t(e,o)}store(){return this.__store}storePublic(){return this.__storePublic}}class bt{constructor(t){Object(a.b)(t.isTypeOf(r.a.io.flexio.component_counter.actions.ActionModifyCounter),"CounterActionManager:constructor: `actionModifyCounter` should be an Action of ActionModifyCounter"),this.__actionModifyCounter=n.p.assertIsActionDispatcher(t)}actionModifyCounter(){return this.__actionModifyCounter}}class pt{constructor(t){Object(a.a)(t.isTypeOf(r.a.io.flexio.component_counter.stores.StoreCounter),"BuilderCounterStoreManager:publicStoreCounter: `publicStoreCounterParam ` should be a Store of StoreCounter"),this.__publicStoreCounter=n.p.assertStoreBase(t)}counterStore(){return this.__publicStoreCounter}}var dt=o(15),mt=o.n(dt);class Ot extends n.q{constructor(t,e){super(t),this.__stores=e,this.subscribeToStore(this.__stores.counterStore())}template(){return this.html(Object(n.u)("div#peer.peer").styles({background:this.__stores.counterStore().data().count()%2==0?"#4EE695":"#EB4876",padding:"5em"}))}}var vt=o(6),wt=o.n(vt),ft="INCREMENT_EVENT",jt="DECREMENT_EVENT",xt="ADD_NUMBER_EVENT",Ct="PEER_SUBVIEW";class gt extends n.q{constructor(t,e,o){super(t),this.__stores=e,this.subscribeToStore(this.__stores.counterStore()),this.__subView=this.html(Object(n.u)("section#"+Ct)),o&&(this.__viewPeer=this.addView(new Ot(this,this.__stores)),this.__subView=this.html(Object(n.u)("section#"+Ct).views(this.__viewPeer)))}on(){return new St(t=>this._on(t))}template(){return this.html(Object(n.u)("div").childNodes(this.html(Object(n.u)("div").childNodes(this.html(Object(n.u)("span#views.counter").className(wt.a.counter).text(this.__stores.counterStore().data().count())),this.html(Object(n.u)("input#decrement").className(wt.a.button).attributes({value:"Dec",type:"button"}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(jt,null)}).build()).styles({visibility:this.__stores.counterStore().data().count()<1?"hidden":"visible"}).reconciliationRules(n.m.BYPASS_LISTENERS)),this.html(Object(n.u)("input#increment").className(wt.a.button).attributes({value:"Inc",type:"button"}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(ft,null)}).build()).reconciliationRules(n.m.BYPASS_LISTENERS)),this.html(Object(n.u)("input#sum").listenEvent(n.e.listen("keydown").callback(t=>{"Enter"===t.key&&this.dispatch(xt,{value:Number(t.target.value)})}).build()).reconciliationRules(n.m.BYPASS_LISTENERS)),this.html(Object(n.u)("img#hotballoon").attributes({src:mt.a}).styles({marginLeft:this.__stores.counterStore().data().count()+"em",position:"relative"})))),this.__subView))}}class St extends n.t{increment(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen(ft).callback(e=>{t(e)}).build())}decrement(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen(jt).callback(e=>{t(e)}).build())}add(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen(xt).callback(e=>{t(e)}).build())}}class At extends n.r{constructor(t,e,o,n){super(t),this.__stores=e,this.__actions=o,this.__withSubView=n,this.__main=this.addView(new gt(this,this.__stores,this.__withSubView)),this.__handleEvents()}__handleEvents(){this.__main.on().increment(t=>{this.__actions.actionModifyCounter().dispatch(new r.a.io.flexio.component_counter.actions.ActionModifyCounter(1))}),this.__main.on().decrement(t=>{this.__actions.actionModifyCounter().dispatch(new r.a.io.flexio.component_counter.actions.ActionModifyCounter(-1))}),this.__main.on().add(t=>{this.__actions.actionModifyCounter().dispatch(new r.a.io.flexio.component_counter.actions.ActionModifyCounter(t.value))})}}class Nt{constructor(t,e){Object(a.a)(n.p.isComponentContext(t),"component-counter:constructor: `parentNode` argument should be NodeType, %s given",typeof t),Object(a.a)(!!Object(a.d)(e),"component-counter:constructor: `mode` argument should be Boolean, %s given",typeof e),this.__componentContext=t,this.__withSubView=e,this.__actionModifyCounter=ht.create(this.__componentContext.dispatcher()),this.__counterStore=_t.create(this.__componentContext),this.__actionModifyCounter.listen(this.__counterStore.store())}mountView(t){return Object(a.a)(!!Object(a.g)(t),"component-counter:constructor: `parentNode` argument should be NodeType, %s given",typeof t),this.__viewContainer=new At(new n.s(this.__componentContext,this.__componentContext.nextID(),t),new pt(this.__counterStore.storePublic()),new bt(this.__actionModifyCounter.action()),this.__withSubView),this.__componentContext.addViewContainer(this.__viewContainer),this.__viewContainer.renderAndMount(),this}unmountView(){return Object(a.a)(n.p.isViewContainer(this.__viewContainer),"ComponentDoc:unmountView: `viewContainer` should be a instanciate before using it"),this.__componentContext.removeViewContainer(this.__viewContainer.ID),this}componentContext(){return this.__componentContext}counterStore(){return this.__counterStoreHandler}}var kt=Symbol("__componentMainPublic");class It{constructor(t){Object(a.b)(t instanceof Nt,"ComponentCounterPublic:constructor: `component` should be a ComponentCounter"),this[kt]=t}mountView(t){return this[kt].mountView(t),this}delete(){return this[kt].unmountView(),this}}class yt{static build(t,e){return Object(a.a)(n.p.isHotballoonApplication(t),"ComponentCounterBuilder:build: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof t),new It(new Nt(t.addComponentContext(),e))}}class Rt{constructor(t,e,o){this._lexp=t,this._operator=e,this._rexp=o,Object(s.a)(this)}lexp(){return this._lexp}operator(){return this._operator}rexp(){return this._rexp}withLexp(t){var e=Tt.from(this);return e.lexp(t),e.build()}withOperator(t){var e=Tt.from(this);return e.operator(t),e.build()}withRexp(t){var e=Tt.from(this);return e.rexp(t),e.build()}toObject(){var t={};return null!==this._lexp&&(t.lexp=this._lexp),null!==this._operator&&(t.operator=this._operator),null!==this._rexp&&(t.rexp=this._rexp),t}toJSON(){return this.toObject()}}class Tt{constructor(){this._lexp=null,this._operator=null,this._rexp=null}lexp(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"lexp should be a string"),this._lexp=t,this}operator(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"operator should be a string"),this._operator=t,this}rexp(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"rexp should be a string"),this._rexp=t,this}build(){return new Rt(this._lexp,this._operator,this._rexp)}static fromObject(t){var e=new Tt;return void 0!==t.lexp&&null!==t.lexp&&e.lexp(t.lexp),void 0!==t.operator&&null!==t.operator&&e.operator(t.operator),void 0!==t.rexp&&null!==t.rexp&&e.rexp(t.rexp),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new Tt;return e.lexp(t.lexp()),e.operator(t.operator()),e.rexp(t.rexp()),e}}Object(s.b)(r.a,"io.flexio.component_calculator.stores.StoreResult",Rt),Object(s.b)(r.a,"io.flexio.component_calculator.stores.StoreResultBuilder",Tt);class Pt{constructor(t){this._number=t,Object(s.a)(this)}number(){return this._number}withNumber(t){var e=Vt.from(this);return e.number(t),e.build()}toObject(){var t={};return null!==this._number&&(t.number=this._number),t}toJSON(){return this.toObject()}}class Vt{constructor(){this._number=null}number(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"number should be a string"),this._number=t,this}build(){return new Pt(this._number)}static fromObject(t){var e=new Vt;return void 0!==t.number&&null!==t.number&&e.number(t.number),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new Vt;return e.number(t.number()),e}}class Dt{constructor(t){this._operator=t,Object(s.a)(this)}operator(){return this._operator}withOperator(t){var e=Mt.from(this);return e.operator(t),e.build()}toObject(){var t={};return null!==this._operator&&(t.operator=this._operator),t}toJSON(){return this.toObject()}}class Mt{constructor(){this._operator=null}operator(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"operator should be a string"),this._operator=t,this}build(){return new Dt(this._operator)}static fromObject(t){var e=new Mt;return void 0!==t.operator&&null!==t.operator&&e.operator(t.operator),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new Mt;return e.operator(t.operator()),e}}class Et{constructor(t){this._operator=t,Object(s.a)(this)}operator(){return this._operator}withOperator(t){var e=Bt.from(this);return e.operator(t),e.build()}toObject(){var t={};return null!==this._operator&&(t.operator=this._operator),t}toJSON(){return this.toObject()}}class Bt{constructor(){this._operator=null}operator(t){return Object(a.i)(t)||Object(a.a)(Object(a.n)(t),"operator should be a string"),this._operator=t,this}build(){return new Et(this._operator)}static fromObject(t){var e=new Bt;return void 0!==t.operator&&null!==t.operator&&e.operator(t.operator),e}static fromJson(t){var e=JSON.parse(t);return this.fromObject(e)}static from(t){var e=new Bt;return e.operator(t.operator()),e}}Object(s.b)(r.a,"io.flexio.component_calculator.actions.ActionNumberInput",Pt),Object(s.b)(r.a,"io.flexio.component_calculator.actions.ActionNumberInputBuilder",Vt),Object(s.b)(r.a,"io.flexio.component_calculator.actions.ActionResultInput",Dt),Object(s.b)(r.a,"io.flexio.component_calculator.actions.ActionResultInputBuilder",Mt),Object(s.b)(r.a,"io.flexio.component_calculator.actions.ActionOperatorInput",Et),Object(s.b)(r.a,"io.flexio.component_calculator.actions.ActionOperatorInputBuilder",Bt);class Lt{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionNumberInputUtils:init: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_calculator.actions.ActionNumberInput,t=>Object(a.i)(t.number())?t.withNumber(""):t,t=>!Object(a.i)(t.number())),t));return new Lt(e)}listen(t){return Object(a.b)(n.p.isStore(t),"ActionNumberInputUtils:listen: `store` should be a Store"),this.__action.listenWithCallback(e=>{""===t.state().data.operator()?t.set(t.state().data.withLexp(t.state().data.lexp().concat(e.number()).toString())):t.set(t.state().data.withRexp(t.state().data.rexp().concat(e.number())))}),this}action(){return this.__action}}class Ht{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionOperatorInputMaker:init: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_calculator.actions.ActionOperatorInput,t=>Object(a.i)(t.operator())?t.withOperator(""):t,t=>!Object(a.i)(t.operator())),t));return new Ht(e)}listen(t,e){return Object(a.b)(n.p.isStore(t),"ActionOperatorInputMaker:listen: `store` should be a Store"),Object(a.b)(n.p.isActionDispatcher(e),"ActionOperatorInputMaker:listen: `actionResult` should be an Action"),this.__action.listenWithCallback(o=>{""!==t.state().data.lexp()&&(""===t.state().data.operator()?t.set(t.state().data.withOperator(o.operator())):e.dispatch(new r.a.io.flexio.component_calculator.actions.ActionResultInput(o.operator())))}),this}action(){return this.__action}}var Jt=o(16),zt=o.n(Jt);class Ut{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.symbol=t}operation(t,e){}}class Wt extends Ut{constructor(){super("+")}operation(t,e){return t+e}}class qt extends Ut{constructor(){super("-")}operation(t,e){return t-e}}class Yt extends Ut{constructor(){super("*")}operation(t,e){return t*e}}class Ft extends Ut{constructor(){super("/")}operation(t,e){return t/e}}class Gt{static create(t){switch(t){case"+":return new Wt;case"-":return new qt;case"*":return new Yt;case"/":return new Ft}}}class Kt{constructor(t){this._dataLex=t.lexp,this._dataRex=t.rexp,this._dataOp=Gt.create(t.operator)}exec(){return setTimeout(function(){},5e3),this._dataOp.operation(Number(this._dataLex),Number(this._dataRex))}}class Qt extends n.j{constructor(t,e,o,n){super(),this.payload=t,this.ticket=n,this.resultStore=e,this.transactionActionDispatcher=o,this.message={lexp:this.resultStore.state().data.lexp(),rexp:this.resultStore.state().data.rexp(),operator:this.resultStore.state().data.operator()}}processInline(){var t=new Kt(this.__message).exec();this.finish(t)}processWorker(){this.transactionActionDispatcher.actionTansaction(this.ticket,!0);var t=new zt.a;t.postMessage(this.message),t.addEventListener("message",e=>{this.finish(e.data),t.terminate(),this.transactionActionDispatcher.actionTansaction(this.ticket,!1)})}finish(t){this.resultStore.set(this.resultStore.state().data.withLexp(t.toString()).withOperator("="===this.payload.operator()?"":this.payload.operator()).withRexp(""))}}class Xt{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionResultInputMaker:init: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_calculator.actions.ActionResultInput,t=>Object(a.i)(t.operator())?t.withOperator(""):t,t=>!Object(a.i)(t.operator())),t));return new Xt(e)}listen(t,e,o,i){return Object(a.b)(n.p.isStore(t),"ActionResultInputMaker:constructor: `store` should be a Store"),Object(a.b)(!Object(a.i)(this.__action),"ActionResultInputMaker:listen: action should be initialize before using it"),this.__action.listenWithCallback(n=>{"/"===t.state().data.operator()&&"0"===this.__storeHandler.data().rexp()?t.set(t.state().data.withRexp("").withOperator("").withLexp("")):""!==t.state().data.lexp()&&""!==t.state().data.rexp()&&""!==t.state().data.operator()&&o.process(new Qt(n,t,e,i))}),this}action(){return this.__action}}class Zt{constructor(t,e){this.__store=t,this.__storePublic=e}static create(t){Object(a.b)(n.p.isComponentContext(t),"StoreResultUtils:constructor: `componentContext` should be a ComponentContext");var e=t.addStore(n.n.InMemory(new n.i(new n.o(r.a.io.flexio.component_calculator.stores.StoreResult,t=>Object(a.i)(t.lexp())||Object(a.i)(t.operator())||Object(a.i)(t.rexp())?t.withLexp("").withOperator("").withRexp(""):t,t=>!Object(a.i)(t.lexp())&&!Object(a.i)(t.operator())&&!Object(a.i)(t.rexp()),t=>r.a.io.flexio.component_calculator.stores.StoreResultBuilder.fromObject(t).build()),(new r.a.io.flexio.component_calculator.stores.StoreResultBuilder).lexp("").operator("").rexp("").build()))),o=new n.l(e);return new Zt(e,o)}store(){return this.__store}storePublic(){return this.__storePublic}}class $t{constructor(t){this.__data=t}display(){return this.__data.lexp()+" "+this.__data.operator()+" "+this.__data.rexp()}}class te{constructor(t){this.text=t}}var ee=t=>n.n.Proxy(new n.k(new n.o(te,t=>t,t=>!0,t=>t),t.__store,t.__mapper));class oe extends n.l{get text(){return this.data().text}}class ne extends n.q{constructor(t,e,o){super(t),this.__store=e,this.__mapper=o,this.__storeInputText=ee(this),this.subscribeToStore(this.__storeInputText),this.__storeHandlerInputText=new oe(this.__storeInputText)}template(){return this.html(Object(n.u)("input#inputText.inputText").attributes({type:"text",value:this.__storeHandlerInputText.text,readOnly:!0}))}}var ie="INPUT_NUMBER_EVENT",re="INPUT_OPERATOR_EVENT",se="INPUT_RESULT_EVENT",ae="INPUT_NUMBER";class ce extends n.q{constructor(t,e){super(t),this.__stores=e,this.subscribeToStore(this.__stores.storeResult()),this.__numberInput=null,this.__registerSubViews()}__registerSubViews(){this.__numberInput=this.addView(new ne(this,this.__stores.storeResult(),function(t){return new te(new $t(t).display())}))}on(){return new ue(t=>this._on(t))}template(){return this.html(Object(n.u)("div").childNodes(this.html(Object(n.u)("section#"+ae).views(this.__numberInput)),this.html(Object(n.u)("div").childNodes(...this.__digitsButtons()).reconciliationRules(n.m.BYPATH))))}__digitsButtons(){var t,e=Array(8);for(t=0;t<3;t++)e[t]=this.html(Object(n.u)("tr#line"+(t+1)).childNodes(...this.__addDigitButtons(t)));return e[3]=this.html(Object(n.u)("input#plus").className(wt.a.button).attributes({type:"button",value:"+"}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(re,{operator:"+"})}).build())),e[4]=this.html(Object(n.u)("input#minus").className(wt.a.button).attributes({type:"button",value:"-"}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(re,{operator:"-"})}).build())),e[5]=this.html(Object(n.u)("input#mul").className(wt.a.button).attributes({type:"button",value:"*"}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(re,{operator:"*"})}).build())),e[6]=this.html(Object(n.u)("input#div").className(wt.a.button).attributes({type:"button",value:"/"}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(re,{operator:"/"})}).build())),e[7]=this.html(Object(n.u)("input#equal").className(wt.a.button).attributes({type:"button",value:"="}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(se,{operator:"="})}).build())),e}__addDigitButtons(t){var e,o=Array(3);for(e=0;e<3;e++)o[e]=this.html(Object(n.u)("td#column"+(e+1)).childNodes(this.html(Object(n.u)("input#digit"+(e+1)).className(wt.a.button).attributes({type:"button",value:3*t+e+1}).listenEvent(n.e.listen("click").callback(t=>{this.dispatch(ie,{number:t.target.value.toString()})}).build()))));return o}}class ue extends n.t{addNumber(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen(ie).callback(e=>{t(e)}).build())}addOperator(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen(re).callback(e=>{t(e)}).build())}addResult(t){return Object(a.b)(Object(a.f)(t),"ViewContainerPublicEventHandler:beforeRemove: `clb` should be a function"),this._subscriber(n.f.listen(se).callback(e=>{t(e)}).build())}}class le extends n.r{constructor(t,e,o){super(t),this.__stores=e,this.__actions=o,this.__viewMain=null,this.__registerViews()}__registerViews(){this.__viewMain=this.addView(new ce(this,this.__stores)),this.__handleEvents()}__handleEvents(){this.__viewMain.on().addNumber(t=>{this.__actions.actionNumberInput().dispatch((new r.a.io.flexio.component_calculator.actions.ActionNumberInputBuilder).number(t.number).build())}),this.__viewMain.on().addOperator(t=>{this.__actions.actionOperatorInput().dispatch((new r.a.io.flexio.component_calculator.actions.ActionOperatorInputBuilder).operator(t.operator).build())}),this.__viewMain.on().addResult(t=>{this.__actions.actionResultInput().dispatch((new r.a.io.flexio.component_calculator.actions.ActionResultInputBuilder).operator(t.operator).build())})}}class he{constructor(t,e,o){Object(a.b)(t.isTypeOf(r.a.io.flexio.component_calculator.actions.ActionNumberInput),"CalculatorActionManager:constructor: `actionNumberInputParam` should be an Action of ActionNumberInput"),this.__actionNumberInput=n.p.assertIsActionDispatcher(t),Object(a.b)(e.isTypeOf(r.a.io.flexio.component_calculator.actions.ActionOperatorInput),"CalculatorActionManager:constructor: `actionOperatorInputParam` should be an Action of ActionOperatorInput"),this.__actionOperatorInput=n.p.assertIsActionDispatcher(e),Object(a.b)(o.isTypeOf(r.a.io.flexio.component_calculator.actions.ActionResultInput),"CalculatorActionManager:constructor: `actionResultInput` should be an Action of ActionResultInput"),this.__actionResultInput=n.p.assertIsActionDispatcher(o)}actionNumberInput(){return this.__actionNumberInput}actionOperatorInput(){return this.__actionOperatorInput}actionResultInput(){return this.__actionResultInput}}class _e{constructor(t){Object(a.a)(t.isTypeOf(r.a.io.flexio.component_calculator.stores.StoreResult),"CounterContainerStoresParams: `publicStoreResult ` should be a Store of StoreResult"),this.__publicStoreResult=n.p.assertStoreBase(t)}storeResult(){return this.__publicStoreResult}}class be{constructor(t,e,o){Object(a.a)(n.p.isComponentContext(t),"ComponentCalculator:constructor: `componentContext` argument should be ComponentContext"),this.__executor=e,this.__componentContext=t,this.__transactionActionDispatcher=o,this.__actionNumberInput=Lt.create(this.__componentContext.dispatcher()),this.__actionResultInput=Xt.create(this.__componentContext.dispatcher()),this.__actionOperatorInput=Ht.create(this.__componentContext.dispatcher()),this.__resultStore=Zt.create(this.__componentContext),this.__actionNumberInput.listen(this.__resultStore.store()),this.__actionResultInput.listen(this.__resultStore.store(),this.__transactionActionDispatcher,this.__executor,this.__componentContext.nextID()),this.__actionOperatorInput.listen(this.__resultStore.store(),this.__actionResultInput.action())}mountView(t){return Object(a.a)(!!Object(a.g)(t),"ComponentCalculator:constructor: `parentNode` argument should be NodeType"),this.__viewContainer=new le(new n.s(this.__componentContext,this.__componentContext.nextID(),t),new _e(this.__resultStore.storePublic()),new he(this.__actionNumberInput.action(),this.__actionOperatorInput.action(),this.__actionResultInput.action())),this.__componentContext.addViewContainer(this.__viewContainer),this.__viewContainer.renderAndMount(t),this}unmountView(){return Object(a.a)(n.p.isViewContainer(this.__viewContainer),"ComponentCalculator:unmountView: `viewContainer` should be a instanciate before use it"),this.__componentContext.removeViewContainer(this.__viewContainer.ID),this}get componentContext(){return this.__componentContext}get resultStore(){return this.__resultStoreHandler}}var pe=Symbol("__componentBootstrapPublic");class de{constructor(t){Object(a.b)(t instanceof be,"ComponentCalculatorPublic:constructor: `component` should be a ComponentCalculator"),this[pe]=t}mountView(t){return this[pe].mountView(t),this}delete(){return this[pe].unmountView(),this}}class me{static build(t,e,o){return Object(a.a)(n.p.isHotballoonApplication(t),"ComponentCalculatorBuilder:constructor: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof t),new de(new be(t.addComponentContext(),e,o))}}class Oe{constructor(t,e){this.__store=t,this.__storePublic=e,this.__choosedComponent=null}static create(t,e){Object(a.b)(n.p.isComponentContext(t),"StoreNavbarMaker:constructor: `componentContext` should be a ComponentContext");var o=t.addStore(n.n.InMemory(new n.i(new n.o(r.a.io.flexio.component_doc.stores.StoreNavbar,t=>t,t=>!0,t=>r.a.io.flexio.component_doc.stores.StoreNavbarBuilder.fromObject(t).build()),(new r.a.io.flexio.component_doc.stores.StoreNavbarBuilder).linkCollection(new r.a.io.flexio.component_doc.stores.storenavbar.StoreNavbarLinkCollectionList((new r.a.io.flexio.component_doc.stores.SchemaLinkBuilder).url(e.url("doc",{component:"counter",option:"simple"})).name("starter").build(),(new r.a.io.flexio.component_doc.stores.SchemaLinkBuilder).url(e.url("doc",{component:"counter",option:"subview"})).name("sub views").build(),(new r.a.io.flexio.component_doc.stores.SchemaLinkBuilder).url(e.url("doc",{component:"calculator",option:"default"})).name("calculatrice").build())).selected(0).build()))),i=new n.l(o);return new Oe(o,i)}listen(t,e,o,i){Object(a.b)(n.p.isComponentContext(t),"StoreNavbarMaker:listen: `componentContext` should be a ComponentContext"),this.__store.listenChanged(n=>{Object(a.i)(this.__choosedComponent)||this.__choosedComponent.delete(),0===n.data.selected()?this.__choosedComponent=yt.build(t.APP(),!1).mountView(t.viewContainer(e).getDemoNode()):1===n.data.selected()?this.__choosedComponent=yt.build(t.APP(),!0).mountView(t.viewContainer(e).getDemoNode()):2===n.data.selected()&&(this.__choosedComponent=me.build(t.APP(),o,i).mountView(t.viewContainer(e).getDemoNode()))})}store(){return this.__store}storePublic(){return this.__storePublic}}class ve{constructor(t){Object(a.a)(t.isTypeOf(r.a.io.flexio.component_doc.stores.StoreNavbar),"CounterContainerStoresParams: `navbarStore ` should be a Store of StoreNavbar"),this.__publicStoreNavbar=n.p.assertStoreBase(t)}navbarStore(){return this.__publicStoreNavbar}}class we{constructor(t,e,o,i,s){Object(a.a)(n.p.isComponentContext(t),"ComponentDoc:constructor: `parentNode` argument should be NodeType, %s given",typeof t),this.__componentContext=t,this.__routeHandler=e,this.__routerActionDispatcher=o,this.__executor=i,this.__transactionActionDispatcher=s,this.__actionInitializeView=st.create(this.__componentContext.dispatcher()),this.__routeHandler.addRoute(new m.a("doc","/doc/{component}/{option}",t=>Object.assign({},t),t=>{this.__actionInitializeView.action().dispatch(new r.a.io.flexio.component_doc.actions.ActionInitializeView(t.component,t.option))})),this.__navbarStore=Oe.create(this.__componentContext,this.__routeHandler),this.__actionInitializeView.listen(this.__navbarStore.store())}mountView(t){return Object(a.a)(!!Object(a.g)(t),"ComponentDoc:constructor: `parentNode` argument should be NodeType, %s given",typeof t),this.__viewContainer=new rt(new n.s(this.__componentContext,this.__componentContext.nextID(),t),new ve(this.__navbarStore.storePublic()),this.__routerActionDispatcher),this.__componentContext.addViewContainer(this.__viewContainer),this.__viewContainer.renderAndMount(),this.__navbarStore.listen(this.__componentContext,this.__viewContainer.ID,this.__executor,this.__transactionActionDispatcher),this}get componentContext(){return this.__componentContext}get navbarStore(){return this.__navbarStoreHandler}dispatchActionInitialize(t,e){return this.__actionInitializeView.action().dispatch(new r.a.io.flexio.component_doc.actions.ActionInitializeView(t,e)),this}unmountView(){return Object(a.a)(n.p.isViewContainer(this.__viewContainer),"ComponentDoc:unmountView: `viewContainer` should be a instanciate before use it"),this.__componentContext.removeViewContainer(this.__viewContainer.ID),this}}var fe=Symbol("__componentMainPublic");class je{constructor(t){Object(a.b)(t instanceof we,"ComponentDocPublic:constructor: `component` should be a ComponentDoc"),this[fe]=t}mountView(t){return this[fe].mountView(t),this}delete(){return this[fe].unmountView(),this[fe].componentContext.APP().removeComponentContext(this[fe].componentContext.ID),this}dispatchActionInitialize(t,e){return this[fe].dispatchActionInitialize(t,e),this}}class xe{static build(t,e,o,i,r,s){return Object(a.a)(n.p.isHotballoonApplication(e),"ComponentCounterBuilder:build: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof e),new je(new we(e.addComponentContext(),o,i,r,s))}}class Ce{constructor(t){this.__action=t}static create(t){Object(a.b)(n.p.isDispatcher(t),"ActionInitializeMaker:constructor: `dispatcher` should be a Dispatcher");var e=n.a.build(new n.b(new n.c(r.a.io.flexio.component_main.actions.ActionInitialize,t=>Object(a.i)(t.message)?t.withMessage("Default message"):t,t=>!Object(a.i)(t.message())),t));return new Ce(e)}listen(t,e,o,i,r,s){return Object(a.b)(n.p.isHotballoonApplication(t),"ActionInitializeMaker:listen: `app` should be a HotballoonApplication"),Object(a.b)(Object(a.g)(e),"ActionInitializeMaker:listen: `parentNode` should be a Node"),this.__action.listenWithCallback(n=>{xe.build(n,t,o,i,r,s).mountView(e).dispatchActionInitialize("counter","simple")}),this}action(){return this.__action}}var ge=r.a.io.flexio.component_main.actions.ActionInitialize;class Se{constructor(t,e,o){Object(a.a)(n.p.isComponentContext(t),"BootstrapComponent:constructor: `parentNode` argument should be NodeType, %s given",typeof t),Object(a.a)(!!Object(a.g)(e),"ComponentRouter:constructor: `parentNode` argument should be NodeType, %s given",typeof e),this.__executor=o,this.__componentContext=t,this.__parentNode=e;var i=x.build(this.__componentContext.APP());this.__routerActionDispatcher=i.routerActionDispatcher(),this.__routeHandler=i.routeHandler(),this.__transactionActionDispatcher=J.build(this.componentContext.APP()).mountView(this.__parentNode).transactionActionDispatcher(),this.__actionInitialize=Ce.create(this.__componentContext.dispatcher()),this.__actionInitialize.listen(this.__componentContext.APP(),this.__parentNode,this.__routeHandler,this.__routerActionDispatcher,this.__executor,this.__transactionActionDispatcher)}dispatchActionInitializeDoc(t){this.__actionInitialize.action().dispatch(new ge(t))}get componentContext(){return this.__componentContext}}var Ae=Symbol("__componentMainPublic");class Ne{constructor(t){Object(a.b)(t instanceof Se,"ComponentCounterPublic:constructor: `component` should be a ComponentBootstrap"),this[Ae]=t}dispatchActionInitialize(t){this[Ae].dispatchActionInitializeDoc(t)}}o.d(e,"APP",function(){return Ie});var ke,Ie=new n.h("Documentation",new n.d,(new i.a).debug()),ye=document.body;ke=Ie,class{static build(t,e,o){return Object(a.a)(n.p.isHotballoonApplication(t),"ComponentMain:constructor: `APP` argument should be an instanceof HotballoonApplication, %s given",typeof t),Object(a.a)(!!Object(a.g)(e),"ComponentMain:constructor: `parentNode` argument should be NodeType, %s given",typeof e),new Ne(new Se(t.addComponentContext(),e,o))}}.build(ke,ye,new n.g).dispatchActionInitialize("topinambour !")}]);